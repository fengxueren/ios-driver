<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="description" content="ios-driver : IOS native app automation"/>
    <link href="stylesheets/prettify.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>ios-driver</title>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38099992-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body onload="prettyPrint()">

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/freynaud/ios-driver">View on GitHub</a>

        <h1 id="project_title">ios-driver</h1>

        <h2 id="project_tagline">IOS automation for native, hybrid and mobile web.</h2>

        <div id="menu">
            <ul>
                <li><a href="index.html" id="home">Home</a></li>
                <li><a href="setup.html" id="setup">Setup</a></li>
                <li><a href="inspector.html" id="inspector">Inspector</a></li>
                <li><a href="native.html" id="native">Native</a></li>
                <li class="active"><a href="safari.html" id="safari">Safari</a></li>
                <li><a href="hybrid.html" id="hybrid">Hybrid</a></li>
                <li><a href="bug.html" id="bug">Report a bug</a></li>
            </ul>
        </div>


        <section id="downloads">
            <a class="zip_download_link"
               href="https://s3-eu-west-1.amazonaws.com/ios-driver/ios-server-0.5.0.jar">Download 0.5.0</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">

        <p>You can use ios-driver to test web pages on mobile safari. Because ios-driver internally
            uses two different
            drivers, a native one and a web one, your tests can use native events (i.e typing text
            using the
            keyboard) and web based selectors.</p>

        <p>ios-driver follows the web driver API, so you can use your favorite client bindings to
            write your
            test.</p>

        <h3>Setup for Mobile Safari</h3>

        <p>Currently is only supported using Simulator. Some directory and file permissions need to be updated:</p>
        <pre>
    chmod +rw /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/
    chmod +rw /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.0.sdk/Applications/MobileSafari.app/Info.plist
</pre>
        <p>Next, start the ios-server:</p>
        <pre>
    java -jar ios-server-X.X.X.jar -port 4444
</pre>

        <h3>The basics</h3>
<pre class="prettyprint">
public static void main(String[] args) throws Exception {
    DesiredCapabilities safari = IOSCapabilities.iphone("Safari");
    RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

    driver.get("http://www.ebay.co.uk/");

    System.out.println(driver.getTitle());
    driver.quit();
}
</pre>

        <p>will print</p>
<pre>
     eBay Mobile | Electronics, Cars, Clothing, Collectibles and Daily Deals online.
</pre>


        <h3>Using the underlying native driver : sendKeys</h3>
        <iframe width="640" height="480" src="http://www.youtube.com/embed/cpYE5g4qAVw"
                frameborder="0" allowfullscreen></iframe>
<pre class="prettyprint">
public static void main(String[] args) throws Exception {

    DesiredCapabilities safari = IOSCapabilities.iphone("Safari");
    RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

    driver.get("http://hp.mobileweb.ebay.co.uk/home");
    WebElement search = driver.findElement(By.id("srchDv"));
    search.sendKeys("ipod");
    search.submit();

    waitFor(pageTitleToBe(driver, "ipod | eBay Mobile Web"));

    driver.quit();
}
</pre>


        <h3>Working with alerts</h3>

        <p>ios-driver can use its native part to get away from the javascript sandbox and handle
            alerts for example :</p>

        <iframe width="640" height="480" src="http://www.youtube.com/embed/2qR7mGs2Gn0"
                frameborder="0" allowfullscreen></iframe>
 <pre class="prettyprint">

@Test
public void testHandlesTwoAlertsFromOneInteraction() {
    driver.findElement(By.id("double-prompt")).click();

    Alert alert1 = waitFor(alertToBePresent(driver));
    alert1.sendKeys("brie");
    alert1.accept();

    Alert alert2 = waitFor(alertToBePresent(driver));
    alert2.sendKeys("cheddar");
    alert2.accept();

    waitFor(elementTextToEqual(driver, By.id("text1"), "brie"));
    waitFor(elementTextToEqual(driver, By.id("text2"), "cheddar"));
}

</pre>

        <h3> Changing the device and the orientation.</h3>

        <iframe width="640" height="480" src="http://www.youtube.com/embed/FK17niDWoqA"
                frameborder="0" allowfullscreen></iframe>
   <pre class="prettyprint">

public static void main(String[] args) throws Exception {

   DesiredCapabilities safari = IOSCapabilities.ipad("Safari");
   RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

   driver.get("http://hp.mobileweb.ebay.co.uk/home");

   ((Rotatable)new Augmenter().augment(driver)).rotate(ScreenOrientation.LANDSCAPE);

   WebElement search = driver.findElement(By.id("srchDv"));
   search.sendKeys("ipod");
   search.submit();

   waitFor(pageTitleToBe(driver, "ipod | eBay Mobile Web"));

   driver.quit();
}

   </pre>


        <h3>Configuring safari to support both iphone and ipad.</h3>

     doc : TODO

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">ios-driver maintained by <a
                href="https://github.com/freynaud">freynaud</a></p>

        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>
</body>
</html>
